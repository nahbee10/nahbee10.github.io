<!DOCTYPE html>
<html >
  <head>
    <meta charset="UTF-8">
    <title>Gelly circle</title>

        <link rel="stylesheet" href="style.css">
    
  </head>

  <body>

    <canvas id="degas" style="position: absolute"></canvas>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
	<script src='matter.js'></script>
	<script src='https://s3-us-west-2.amazonaws.com/s.cdpn.io/39394/Degas.min.js'></script>
	<script src="index.js"></script>


	<div id="container">
	    <video autoplay="true" id="videoElement">
	     
	    </video>
	</div>
	<script>
		var video = document.querySelector("#videoElement");
		 
		navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia || navigator.oGetUserMedia;
		 
		if (navigator.getUserMedia) {       
		    navigator.getUserMedia({video: true}, handleVideo, videoError);
		}
		 
		function handleVideo(stream) {
		    video.src = window.URL.createObjectURL(stream);
		}
		 
		function videoError(e) {
		    // do something
	}
	</script>

	<script>
		document.addEventListener('canplay', function(){
		    var v = document.getElementById('videoElement');
		    var canvas = document.getElementById('degas');
		    var context = canvas.getContext('2d');

		    var cw = Math.floor(canvas.clientWidth / 100);
		    var ch = Math.floor(canvas.clientHeight / 100);

		    canvas.width = cw;
		    canvas.height = ch;

		    draw(v,context,cw,ch);

		},false);

		function draw(v,c,w,h) {
		    c.drawImage(v,0,0,w,h);
		    setTimeout(draw,20,v,c,w,h);
		}

	</script>
	    
	    
	    
  </body>
</html>